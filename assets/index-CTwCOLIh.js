import{j as s,z as e,a2 as r,bg as i,I as n,Z as o,U as t,ac as a,ai as l,am as c,ap as x,aj as d,J as h,bQ as j,bT as b,_ as g,bR as m,bS as f,aO as p,bU as u,aK as v,aN as y,aq as W,$ as C,X as w,by as S,m as k}from"./mui-vendor-ThRJoe5u.js";import{P as R}from"./PartImageUpload-BTaO-DQZ.js";import{r as N,a as z,f as I,j as T}from"./react-vendor-jVbyDP5c.js";import{D as M}from"./index-CgzbgTp3.js";import"./auth-vendor-BOyMHjHL.js";import"./state-vendor-BxbV2bHq.js";import"./utils-vendor-S0KZLiBE.js";import"./form-vendor-DG-ZRlco.js";import"./ui-vendor-DL_b4SbO.js";const P=({partMaster:t,files:a=[]})=>{const l=a.map((s,e)=>({id:e,file:null,image:s.filePath?`https://indocool-prc-backend.onrender.com/${s.filePath}`:"",fileName:s.fileName||`Image ${e}`}));return s.jsxs(e,{sx:{p:3,borderRadius:2,boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[s.jsx(r,{variant:"h6",sx:{mb:3,fontWeight:600,color:"#333"},children:"General Information"}),s.jsxs(i,{container:!0,spacing:3,children:[s.jsx(i,{size:{xs:12,md:6},children:s.jsxs(n,{sx:{mb:2},children:[s.jsx(r,{variant:"body2",sx:{color:"#666",fontWeight:500,mb:.5},children:"Part Number"}),s.jsx(r,{variant:"body1",sx:{fontWeight:600,color:"#333"},children:t.partNumber})]})}),s.jsx(i,{size:{xs:12,md:6},children:s.jsxs(n,{sx:{mb:2},children:[s.jsx(r,{variant:"body2",sx:{color:"#666",fontWeight:500,mb:.5},children:"Drawing Number"}),s.jsx(r,{variant:"body1",sx:{fontWeight:600,color:"#333"},children:t.drawingNumber})]})}),s.jsx(i,{size:{xs:12,md:6},children:s.jsxs(n,{sx:{mb:2},children:[s.jsx(r,{variant:"body2",sx:{color:"#666",fontWeight:500,mb:.5},children:"Drawing Revision"}),s.jsx(r,{variant:"body1",sx:{fontWeight:600,color:"#333"},children:t.drawingRevision})]})}),s.jsx(i,{size:{xs:12,md:6},children:s.jsxs(n,{sx:{mb:2},children:[s.jsx(r,{variant:"body2",sx:{color:"#666",fontWeight:500,mb:.5},children:"Part Revision"}),s.jsx(r,{variant:"body1",sx:{fontWeight:600,color:"#333"},children:t.partRevision})]})}),s.jsx(i,{size:{xs:12,md:6},children:s.jsxs(n,{sx:{mb:2},children:[s.jsx(r,{variant:"body2",sx:{color:"#666",fontWeight:500,mb:.5},children:"Status"}),s.jsx(o,{label:t.status,color:(s=>{switch(s){case"ACTIVE":return"success";case"NEW":return"info";case"INACTIVE":return"error";default:return"default"}})(t.status),size:"small",variant:"outlined"})]})}),s.jsx(i,{size:{xs:12,md:6},children:s.jsxs(n,{sx:{mb:2},children:[s.jsx(r,{variant:"body2",sx:{color:"#666",fontWeight:500,mb:.5},children:"Customer"}),s.jsx(r,{variant:"body1",sx:{fontWeight:600,color:"#333"},children:t.customerName||t.customer})]})}),s.jsx(i,{size:{xs:12},children:s.jsxs(n,{sx:{mb:2},children:[s.jsx(r,{variant:"body2",sx:{color:"#666",fontWeight:500,mb:.5},children:"Description"}),s.jsx(r,{variant:"body1",sx:{color:"#333",lineHeight:1.6},children:t.description})]})}),t.layupType&&s.jsx(i,{size:{xs:12,md:6},children:s.jsxs(n,{sx:{mb:2},children:[s.jsx(r,{variant:"body2",sx:{color:"#666",fontWeight:500,mb:.5},children:"Layup Type"}),s.jsx(r,{variant:"body1",sx:{color:"#333"},children:t.layupType})]})}),t.model&&s.jsx(i,{size:{xs:12,md:6},children:s.jsxs(n,{sx:{mb:2},children:[s.jsx(r,{variant:"body2",sx:{color:"#666",fontWeight:500,mb:.5},children:"Model"}),s.jsx(r,{variant:"body1",sx:{color:"#333"},children:t.model})]})}),t.sapReferenceNumber&&s.jsx(i,{size:{xs:12,md:6},children:s.jsxs(n,{sx:{mb:2},children:[s.jsx(r,{variant:"body2",sx:{color:"#666",fontWeight:500,mb:.5},children:"SAP Reference Number"}),s.jsx(r,{variant:"body1",sx:{color:"#333"},children:t.sapReferenceNumber})]})}),s.jsx(i,{size:{xs:12,md:6},children:s.jsxs(n,{sx:{mb:2},children:[s.jsx(r,{variant:"body2",sx:{color:"#666",fontWeight:500,mb:.5},children:"Version"}),s.jsxs(r,{variant:"body1",sx:{color:"#333"},children:["v",t.version]})]})}),s.jsx(i,{size:{xs:12,md:6},children:s.jsxs(n,{sx:{mb:2},children:[s.jsx(r,{variant:"body2",sx:{color:"#666",fontWeight:500,mb:.5},children:"Is Latest Version"}),s.jsx(o,{label:t.isLatest?"Yes":"No",color:t.isLatest?"success":"default",size:"small",variant:"outlined"})]})}),t.notes&&s.jsx(i,{size:{xs:12},children:s.jsxs(n,{sx:{mb:2},children:[s.jsx(r,{variant:"body2",sx:{color:"#666",fontWeight:500,mb:.5},children:"Notes"}),s.jsx(r,{variant:"body1",sx:{color:"#333",lineHeight:1.6},children:t.notes})]})}),s.jsx(i,{size:{xs:12,md:6},children:s.jsxs(n,{sx:{mb:2},children:[s.jsx(r,{variant:"body2",sx:{color:"#666",fontWeight:500,mb:.5},children:"Created At"}),s.jsx(r,{variant:"body1",sx:{color:"#333"},children:new Date(t.createdAt||"").toLocaleString()})]})}),s.jsx(i,{size:{xs:12,md:6},children:s.jsxs(n,{sx:{mb:2},children:[s.jsx(r,{variant:"body2",sx:{color:"#666",fontWeight:500,mb:.5},children:"Updated At"}),s.jsx(r,{variant:"body1",sx:{color:"#333"},children:new Date(t.updatedAt||"").toLocaleString()})]})})]}),a.length>0&&s.jsxs(n,{sx:{mt:4},children:[s.jsx(r,{variant:"h6",sx:{mb:3,fontWeight:600,color:"#333"},children:"Part Drawings"}),s.jsx(R,{gallery:l,onAddImage:()=>{},onRemoveImage:()=>{},view:!0})]})]})},D=({rawMaterials:i})=>{const[o,m]=N.useState(new Set);return 0===i.length?s.jsxs(e,{sx:{p:3,borderRadius:2,boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[s.jsx(r,{variant:"h6",sx:{mb:2,fontWeight:600,color:"#333"},children:"Raw Materials"}),s.jsx(r,{variant:"body1",color:"textSecondary",textAlign:"center",sx:{py:4},children:"No raw materials configured for this part"})]}):s.jsxs(e,{sx:{p:3,borderRadius:2,boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[s.jsxs(r,{variant:"h6",sx:{mb:3,fontWeight:600,color:"#333"},children:["Raw Materials (",i.length,")"]}),s.jsx(t,{children:s.jsxs(a,{children:[s.jsx(l,{children:s.jsxs(c,{sx:{backgroundColor:"#f8f9fa"},children:[s.jsx(x,{sx:{fontWeight:600,color:"#333",width:50}}),s.jsx(x,{sx:{fontWeight:600,color:"#333"},children:"Material Name"}),s.jsx(x,{sx:{fontWeight:600,color:"#333"},children:"Material Code"}),s.jsx(x,{sx:{fontWeight:600,color:"#333"},children:"Quantity"}),s.jsx(x,{sx:{fontWeight:600,color:"#333"},children:"UOM"}),s.jsx(x,{sx:{fontWeight:600,color:"#333"},children:"Batching"}),s.jsx(x,{sx:{fontWeight:600,color:"#333"},children:"Splitting"}),s.jsx(x,{sx:{fontWeight:600,color:"#333"},children:"Version"})]})}),s.jsx(d,{children:i.map((e,i)=>s.jsxs(z.Fragment,{children:[s.jsxs(c,{sx:{"&:hover":{backgroundColor:"#f5f5f5"}},children:[s.jsx(x,{children:e.splitting&&e.splittingConfiguration&&e.splittingConfiguration.length>0&&s.jsx(h,{size:"small",onClick:()=>(s=>{const e=new Set(o);e.has(s)?e.delete(s):e.add(s),m(e)})(i),sx:{color:"#1976d2"},children:o.has(i)?s.jsx(j,{}):s.jsx(b,{})})}),s.jsx(x,{sx:{fontWeight:500,color:"#333"},children:e.materialName}),s.jsx(x,{sx:{color:"#666"},children:e.materialCode}),s.jsx(x,{sx:{color:"#666"},children:e.quantity}),s.jsx(x,{sx:{color:"#666"},children:e.uom}),s.jsx(x,{sx:{color:"#666"},children:e.batching?"Yes":"No"}),s.jsx(x,{sx:{color:"#666"},children:e.splitting?"Yes":"No"}),s.jsxs(x,{sx:{color:"#666"},children:["v",e.version]})]}),e.splitting&&e.splittingConfiguration&&e.splittingConfiguration.length>0&&s.jsx(c,{children:s.jsx(x,{colSpan:8,sx:{py:0},children:s.jsx(g,{in:o.has(i),timeout:"auto",unmountOnExit:!0,children:s.jsxs(n,{sx:{margin:1},children:[s.jsx(r,{variant:"h6",gutterBottom:!0,component:"div",sx:{fontSize:"0.9rem",fontWeight:600},children:"Split Configuration"}),s.jsxs(a,{size:"small",children:[s.jsx(l,{children:s.jsxs(c,{children:[s.jsx(x,{sx:{fontWeight:600,color:"#333"},children:"Order"}),s.jsx(x,{sx:{fontWeight:600,color:"#333"},children:"Split Quantity"})]})}),s.jsx(d,{children:e.splittingConfiguration.map((e,r)=>s.jsxs(c,{children:[s.jsx(x,{sx:{color:"#666"},children:e.order}),s.jsx(x,{sx:{color:"#666"},children:String(e.splitQuantity)})]},r))})]})]})})})})]},e.id||i))})]})})]})};function A(e){const{children:r,value:i,index:o,...t}=e;return s.jsx("div",{role:"tabpanel",hidden:i!==o,id:`technical-tabpanel-${o}`,"aria-labelledby":`technical-tab-${o}`,...t,children:i===o&&s.jsx(n,{sx:{py:2},children:r})})}const L=({drilling:i,cutting:o})=>{const[h,j]=N.useState(0);return s.jsxs(e,{sx:{p:3,borderRadius:2,boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[s.jsx(r,{variant:"h6",sx:{mb:3,fontWeight:600,color:"#333"},children:"Technical Data"}),s.jsx(n,{sx:{borderBottom:1,borderColor:"divider",mb:3},children:s.jsxs(m,{value:h,onChange:(s,e)=>{j(e)},"aria-label":"technical data tabs",children:[s.jsx(f,{label:`Drilling (${i.length})`,id:"technical-tab-0","aria-controls":"technical-tabpanel-0",icon:s.jsx(p,{}),iconPosition:"start"}),s.jsx(f,{label:`Cutting (${o.length})`,id:"technical-tab-1","aria-controls":"technical-tabpanel-1",icon:s.jsx(u,{}),iconPosition:"start"})]})}),s.jsx(A,{value:h,index:0,children:0===i.length?s.jsx(r,{variant:"body1",color:"textSecondary",textAlign:"center",sx:{py:4},children:"No drilling specifications configured for this part"}):s.jsx(t,{children:s.jsxs(a,{children:[s.jsx(l,{children:s.jsxs(c,{sx:{backgroundColor:"#f8f9fa"},children:[s.jsx(x,{sx:{fontWeight:600,color:"#333"},children:"Characteristics"}),s.jsx(x,{sx:{fontWeight:600,color:"#333"},children:"Specification"}),s.jsx(x,{sx:{fontWeight:600,color:"#333"},children:"No. of Holes"}),s.jsx(x,{sx:{fontWeight:600,color:"#333"},children:"Diameter (mm)"}),s.jsx(x,{sx:{fontWeight:600,color:"#333"},children:"Tolerance"}),s.jsx(x,{sx:{fontWeight:600,color:"#333"},children:"Version"})]})}),s.jsx(d,{children:i.map((e,r)=>s.jsxs(c,{sx:{"&:hover":{backgroundColor:"#f5f5f5"}},children:[s.jsx(x,{sx:{fontWeight:500,color:"#333"},children:e.characteristics}),s.jsx(x,{sx:{color:"#666"},children:e.specification}),s.jsx(x,{sx:{color:"#666"},children:e.noOfHoles}),s.jsx(x,{sx:{color:"#666"},children:e.diaOfHoles}),s.jsx(x,{sx:{color:"#666"},children:e.tolerance}),s.jsxs(x,{sx:{color:"#666"},children:["v",e.version]})]},e.id||r))})]})})}),s.jsx(A,{value:h,index:1,children:0===o.length?s.jsx(r,{variant:"body1",color:"textSecondary",textAlign:"center",sx:{py:4},children:"No cutting specifications configured for this part"}):s.jsx(t,{children:s.jsxs(a,{children:[s.jsx(l,{children:s.jsxs(c,{sx:{backgroundColor:"#f8f9fa"},children:[s.jsx(x,{sx:{fontWeight:600,color:"#333"},children:"Characteristics"}),s.jsx(x,{sx:{fontWeight:600,color:"#333"},children:"Specification"}),s.jsx(x,{sx:{fontWeight:600,color:"#333"},children:"Tolerance"}),s.jsx(x,{sx:{fontWeight:600,color:"#333"},children:"Version"})]})}),s.jsx(d,{children:o.map((e,r)=>s.jsxs(c,{sx:{"&:hover":{backgroundColor:"#f5f5f5"}},children:[s.jsx(x,{sx:{fontWeight:500,color:"#333"},children:e.characteristics}),s.jsx(x,{sx:{color:"#666"},children:e.specification}),s.jsx(x,{sx:{color:"#666"},children:e.tolerance}),s.jsxs(x,{sx:{color:"#666"},children:["v",e.version]})]},e.id||r))})]})})})]})},H=({partMaster:o})=>o.catalyst||o.prcTemplate?s.jsxs(e,{sx:{p:3,borderRadius:2,boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[s.jsx(r,{variant:"h6",sx:{mb:3,fontWeight:600,color:"#333"},children:"Linked Masters"}),s.jsxs(i,{container:!0,spacing:3,children:[o.catalyst&&s.jsx(i,{size:{xs:12,md:6},children:s.jsxs(n,{sx:{p:3,border:"1px solid #e0e0e0",borderRadius:"12px",backgroundColor:"#f3f8ff",display:"flex",alignItems:"center",gap:2},children:[s.jsx(n,{sx:{display:"flex",alignItems:"center",justifyContent:"center",width:48,height:48,borderRadius:"50%",backgroundColor:"#1976d2",color:"white"},children:s.jsx(v,{})}),s.jsxs(n,{children:[s.jsx(r,{variant:"subtitle1",sx:{fontWeight:600,color:"#333",mb:.5},children:"Catalyst Chart"}),s.jsxs(r,{variant:"body2",sx:{color:"#666"},children:["ID: ",o.catalyst]})]})]})}),o.prcTemplate&&s.jsx(i,{size:{xs:12,md:6},children:s.jsxs(n,{sx:{p:3,border:"1px solid #e0e0e0",borderRadius:"12px",backgroundColor:"#f0f8f0",display:"flex",alignItems:"center",gap:2},children:[s.jsx(n,{sx:{display:"flex",alignItems:"center",justifyContent:"center",width:48,height:48,borderRadius:"50%",backgroundColor:"#4caf50",color:"white"},children:s.jsx(y,{})}),s.jsxs(n,{children:[s.jsx(r,{variant:"subtitle1",sx:{fontWeight:600,color:"#333",mb:.5},children:"PRC Template"}),s.jsxs(r,{variant:"body2",sx:{color:"#666"},children:["ID: ",o.prcTemplate]})]})]})})]})]}):s.jsxs(e,{sx:{p:3,borderRadius:2,boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[s.jsx(r,{variant:"h6",sx:{mb:2,fontWeight:600,color:"#333"},children:"Linked Masters"}),s.jsx(r,{variant:"body1",color:"textSecondary",textAlign:"center",sx:{py:4},children:"No linked masters configured for this part"})]}),V=()=>{const i=I(),{id:o}=T(),t=Number(o),{data:a,isLoading:l,isError:c,error:x}=M({id:t},{skip:!t}),d=()=>{i("/part-master")},h=()=>{i(`/part-master/edit-part/${t}`)};if(l)return s.jsx(n,{sx:{minHeight:"100vh"},children:s.jsxs(e,{sx:{p:4,borderRadius:2,boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[s.jsxs(n,{sx:{display:"flex",alignItems:"center",mb:4},children:[s.jsx(W,{variant:"rectangular",width:80,height:36,sx:{mr:2,borderRadius:1}}),s.jsx(W,{variant:"text",width:300,height:40})]}),s.jsx(n,{sx:{mb:4},children:s.jsx(W,{variant:"rectangular",width:"100%",height:400,sx:{borderRadius:1}})}),s.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",pt:3,borderTop:"1px solid #e0e0e0"},children:[s.jsx(W,{variant:"rectangular",width:80,height:36,sx:{borderRadius:1}}),s.jsx(W,{variant:"rectangular",width:100,height:36,sx:{borderRadius:1}})]})]})});if(c||!a)return s.jsx(n,{sx:{minHeight:"100vh"},children:s.jsxs(e,{sx:{p:4,borderRadius:2,boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[s.jsx(C,{severity:"error",sx:{mb:3},children:x&&"data"in x&&x.data&&"object"==typeof x.data&&"message"in x.data?x.data.message:"Failed to load part details"}),s.jsx(w,{onClick:d,startIcon:s.jsx(S,{}),sx:{textTransform:"none"},children:"Back to Part Master"})]})});const{partMaster:j,rawMaterials:b,drilling:g,cutting:m}=a.detail;return s.jsx(n,{sx:{minHeight:"100vh"},children:s.jsxs(e,{sx:{p:4,borderRadius:2,boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[s.jsxs(n,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:4},children:[s.jsxs(n,{sx:{display:"flex",alignItems:"center"},children:[s.jsx(w,{onClick:d,startIcon:s.jsx(S,{}),sx:{textTransform:"none",mr:2,color:"#666","&:hover":{backgroundColor:"rgba(0,0,0,0.04)"}},children:"Back"}),s.jsxs(r,{variant:"h4",sx:{fontWeight:600,color:"#333"},children:["View Part: ",j.partNumber]})]}),s.jsx(w,{variant:"contained",startIcon:s.jsx(k,{}),onClick:h,sx:{textTransform:"none",backgroundColor:"#1976d2","&:hover":{backgroundColor:"#1565c0"}},children:"Edit Part"})]}),s.jsxs(n,{sx:{display:"flex",flexDirection:"column",gap:3},children:[s.jsx(P,{partMaster:j,files:a?.detail?.files||void 0}),s.jsx(D,{rawMaterials:b}),s.jsx(L,{drilling:g,cutting:m}),s.jsx(H,{partMaster:j})]}),s.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",pt:3,borderTop:"1px solid #e0e0e0",mt:4},children:[s.jsx(w,{onClick:d,sx:{textTransform:"none"},children:"Back to List"}),s.jsx(w,{variant:"contained",startIcon:s.jsx(k,{}),onClick:h,sx:{textTransform:"none",backgroundColor:"#1976d2","&:hover":{backgroundColor:"#1565c0"}},children:"Edit Part"})]})]})})};export{V as default};
