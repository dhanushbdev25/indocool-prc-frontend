import{j as e,I as s,br as r,a2 as i,z as t,bg as n,bA as o,Z as l,bh as a,al as x,bB as c,bC as d,bD as h,bG as j,E as p,bF as m,bE as b,bk as u,bl as f,bH as g,bI as v,bJ as z,aq as y,$ as S,X as C,by as W,m as k}from"./mui-vendor-ThRJoe5u.js";import{r as w,f as I,j as T}from"./react-vendor-jVbyDP5c.js";import{j as M}from"./index-BEHhMzTN.js";import"./auth-vendor-BOyMHjHL.js";import"./state-vendor-BxbV2bHq.js";import"./utils-vendor-S0KZLiBE.js";import"./form-vendor-DG-ZRlco.js";import"./ui-vendor-DL_b4SbO.js";const q=({sequence:c})=>{const d=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return e.jsxs(s,{children:[e.jsxs(s,{sx:{display:"flex",alignItems:"center",mb:3},children:[e.jsx(r,{sx:{mr:1,color:"#1976d2"}}),e.jsx(i,{variant:"h6",sx:{fontWeight:600,color:"#333"},children:"Basic Information"})]}),e.jsx(t,{sx:{p:3,borderRadius:2,border:"1px solid #e0e0e0"},children:e.jsxs(n,{container:!0,spacing:3,children:[e.jsx(n,{size:{xs:12,md:6},children:e.jsxs(s,{children:[e.jsx(i,{variant:"subtitle2",sx:{fontWeight:600,color:"#555",mb:1},children:"Sequence ID"}),e.jsx(i,{variant:"body1",sx:{color:"#333",fontSize:"1.1rem",fontWeight:500},children:c.sequenceId})]})}),e.jsx(n,{size:{xs:12,md:6},children:e.jsxs(s,{children:[e.jsx(i,{variant:"subtitle2",sx:{fontWeight:600,color:"#555",mb:1},children:"Sequence Name"}),e.jsx(i,{variant:"body1",sx:{color:"#333",fontSize:"1.1rem",fontWeight:500},children:c.sequenceName})]})}),e.jsx(n,{size:{xs:12,md:6},children:e.jsxs(s,{children:[e.jsx(i,{variant:"subtitle2",sx:{fontWeight:600,color:"#555",mb:1},children:"Category"}),e.jsxs(s,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(o,{sx:{mr:1,color:"#1976d2",fontSize:"1.2rem"}}),e.jsx(i,{variant:"body1",sx:{color:"#333",fontSize:"1.1rem"},children:c.category})]})]})}),e.jsx(n,{size:{xs:12,md:6},children:e.jsxs(s,{children:[e.jsx(i,{variant:"subtitle2",sx:{fontWeight:600,color:"#555",mb:1},children:"Type"}),e.jsx(l,{label:c.type,size:"medium",sx:{backgroundColor:(e=>{switch(e){case"Layout":return"#2196f3";case"ISP":return"#ff9800";default:return"#9e9e9e"}})(c.type),color:"white",fontSize:"0.875rem",height:"32px",fontWeight:600}})]})}),e.jsx(n,{size:{xs:12,md:6},children:e.jsxs(s,{children:[e.jsx(i,{variant:"subtitle2",sx:{fontWeight:600,color:"#555",mb:1},children:"Status"}),e.jsx(l,{icon:e.jsx(a,{sx:{fontSize:"0.875rem"}}),label:c.status,size:"medium",sx:{backgroundColor:(h=c.status,"ACTIVE"===h?"#4caf50":"#9e9e9e"),color:"white",fontSize:"0.875rem",height:"32px","& .MuiChip-icon":{color:"white"}}})]})}),e.jsx(n,{size:{xs:12,md:6},children:e.jsxs(s,{children:[e.jsx(i,{variant:"subtitle2",sx:{fontWeight:600,color:"#555",mb:1},children:"Version Information"}),e.jsxs(s,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsxs(i,{variant:"body2",sx:{color:"#666"},children:["Version ",c.version]}),c.isLatest&&e.jsx(l,{label:"Latest",size:"small",sx:{backgroundColor:"#4caf50",color:"white",fontSize:"0.75rem",height:"20px"}})]})]})}),e.jsxs(n,{size:{xs:12},children:[e.jsx(x,{sx:{my:2}}),e.jsxs(s,{children:[e.jsx(i,{variant:"subtitle2",sx:{fontWeight:600,color:"#555",mb:2},children:"Steps Summary"}),e.jsxs(n,{container:!0,spacing:2,children:[e.jsx(n,{size:{xs:6,md:3},children:e.jsxs(t,{sx:{p:2,backgroundColor:"#e3f2fd",border:"1px solid #2196f3"},children:[e.jsx(i,{variant:"caption",sx:{color:"#1565c0",fontWeight:600},children:"TOTAL STEPS"}),e.jsx(i,{variant:"h6",sx:{color:"#1565c0",fontWeight:600},children:c.totalSteps})]})}),e.jsx(n,{size:{xs:6,md:3},children:e.jsxs(t,{sx:{p:2,backgroundColor:"#ffebee",border:"1px solid #f44336"},children:[e.jsx(i,{variant:"caption",sx:{color:"#c62828",fontWeight:600},children:"CTQ STEPS"}),e.jsx(i,{variant:"h6",sx:{color:"#c62828",fontWeight:600},children:c.ctqSteps})]})}),e.jsx(n,{size:{xs:6,md:3},children:e.jsxs(t,{sx:{p:2,backgroundColor:"#e8f5e8",border:"1px solid #4caf50"},children:[e.jsx(i,{variant:"caption",sx:{color:"#2e7d32",fontWeight:600},children:"STEP GROUPS"}),e.jsx(i,{variant:"h6",sx:{color:"#2e7d32",fontWeight:600},children:c.stepGroups?.length||0})]})}),e.jsx(n,{size:{xs:6,md:3},children:e.jsxs(t,{sx:{p:2,backgroundColor:"#fff3e0",border:"1px solid #ff9800"},children:[e.jsx(i,{variant:"caption",sx:{color:"#e65100",fontWeight:600},children:"CTQ RATIO"}),e.jsxs(i,{variant:"h6",sx:{color:"#e65100",fontWeight:600},children:[c.totalSteps>0?Math.round(c.ctqSteps/c.totalSteps*100):0,"%"]})]})})]})]})]}),c.notes&&e.jsxs(n,{size:{xs:12},children:[e.jsx(x,{sx:{my:2}}),e.jsxs(s,{children:[e.jsx(i,{variant:"subtitle2",sx:{fontWeight:600,color:"#555",mb:1},children:"Notes"}),e.jsx(t,{sx:{p:2,backgroundColor:"#f8f9fa",border:"1px solid #e9ecef",borderRadius:"8px"},children:e.jsx(i,{variant:"body1",sx:{color:"#333",lineHeight:1.6},children:c.notes})})]})]}),e.jsxs(n,{size:{xs:12},children:[e.jsx(x,{sx:{my:2}}),e.jsxs(n,{container:!0,spacing:3,children:[e.jsx(n,{size:{xs:12,md:6},children:e.jsxs(s,{children:[e.jsx(i,{variant:"subtitle2",sx:{fontWeight:600,color:"#555",mb:1},children:"Created At"}),e.jsx(i,{variant:"body2",sx:{color:"#666"},children:d(c.createdAt)})]})}),e.jsx(n,{size:{xs:12,md:6},children:e.jsxs(s,{children:[e.jsx(i,{variant:"subtitle2",sx:{fontWeight:600,color:"#555",mb:1},children:"Last Updated"}),e.jsx(i,{variant:"body2",sx:{color:"#666"},children:d(c.updatedAt)})]})})]})]})]})})]});var h},R=({stepGroups:r})=>{const[o,a]=w.useState(new Set([0])),y=e=>{switch(e){case"Measurement":return"#2196f3";case"Check":return"#4caf50";case"Inspection":return"#ff9800";case"Operation":return"#9c27b0";default:return"#9e9e9e"}},S=e=>{switch(e){case"range":return"#2196f3";case"exact value":return"#4caf50";case"ok/not ok":return"#ff9800";default:return"#9e9e9e"}},C=(r,C)=>{const W=o.has(C),k=r.steps?.filter(e=>e.ctq).length||0;return e.jsxs(d,{expanded:W,onChange:()=>(e=>{const s=new Set(o);s.has(e)?s.delete(e):s.add(e),a(s)})(C),sx:{mb:3,borderRadius:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)","&:before":{display:"none"},"&.Mui-expanded":{margin:"0 0 24px 0"}},children:[e.jsx(h,{expandIcon:e.jsx(p,{}),sx:{backgroundColor:"#f8f9fa",borderRadius:"12px 12px 0 0","&.Mui-expanded":{borderRadius:"12px 12px 0 0"}},children:e.jsxs(s,{sx:{display:"flex",alignItems:"center",width:"100%"},children:[e.jsx(c,{sx:{mr:2,color:"#1976d2",fontSize:"1.5rem"}}),e.jsxs(s,{sx:{flexGrow:1},children:[e.jsx(i,{variant:"h6",sx:{fontWeight:600,color:"#333"},children:r.processName}),e.jsx(i,{variant:"body2",sx:{color:"#666",mt:.5},children:r.processDescription})]}),e.jsxs(s,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(l,{icon:e.jsx(j,{sx:{fontSize:"0.875rem"}}),label:`${r.sequenceTiming||"00:00"}`,size:"small",sx:{backgroundColor:"#e8f5e8",color:"#2e7d32",fontSize:"0.75rem",height:"24px"}}),e.jsx(l,{label:`${r.steps?.length||0} steps`,size:"small",sx:{backgroundColor:"#e3f2fd",color:"#1976d2",fontSize:"0.75rem",height:"24px"}}),k>0&&e.jsx(l,{label:`${k} CTQ`,size:"small",sx:{backgroundColor:"#ffebee",color:"#f44336",fontSize:"0.75rem",height:"24px",fontWeight:600}})]})]})}),e.jsx(m,{sx:{p:3},children:r.steps&&r.steps.length>0?e.jsxs(s,{children:[e.jsxs(i,{variant:"subtitle2",sx:{fontWeight:600,color:"#555",mb:2},children:["Process Steps (",r.steps.length," total)"]}),r.steps.map((r,o)=>((r,o)=>e.jsx(u,{sx:{mb:2,border:"1px solid #e0e0e0",borderRadius:"12px",boxShadow:"0 2px 4px rgba(0,0,0,0.05)"},children:e.jsxs(f,{children:[e.jsx(s,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2},children:e.jsxs(s,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(b,{sx:{mr:1,color:"#1976d2"}}),e.jsxs(i,{variant:"h6",sx:{fontWeight:600},children:["Step ",r.stepNumber]}),e.jsx(l,{label:r.stepType,size:"small",sx:{ml:2,backgroundColor:y(r.stepType),color:"white",fontSize:"0.75rem",height:"24px"}}),r.ctq&&e.jsx(l,{label:"CTQ",size:"small",sx:{ml:1,backgroundColor:"#f44336",color:"white",fontSize:"0.75rem",height:"24px",fontWeight:600}})]})}),e.jsxs(n,{container:!0,spacing:2,children:[e.jsx(n,{size:{xs:12},children:e.jsxs(s,{children:[e.jsx(i,{variant:"subtitle2",sx:{fontWeight:600,color:"#555",mb:1},children:"Parameter Description"}),e.jsx(i,{variant:"body1",sx:{color:"#333",fontWeight:500},children:r.parameterDescription})]})}),e.jsx(n,{size:{xs:12,md:6},children:e.jsxs(s,{children:[e.jsx(i,{variant:"subtitle2",sx:{fontWeight:600,color:"#555",mb:1},children:"Evaluation Method"}),e.jsxs(s,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(g,{sx:{mr:1,color:"#1976d2",fontSize:"1.2rem"}}),e.jsx(i,{variant:"body2",sx:{color:"#333"},children:r.evaluationMethod})]})]})}),e.jsx(n,{size:{xs:12,md:6},children:e.jsxs(s,{children:[e.jsx(i,{variant:"subtitle2",sx:{fontWeight:600,color:"#555",mb:1},children:"Target Value Type"}),e.jsx(l,{label:r.targetValueType,size:"small",sx:{backgroundColor:S(r.targetValueType),color:"white",fontSize:"0.75rem",height:"24px"}})]})}),("range"===r.targetValueType||"exact value"===r.targetValueType)&&e.jsx(n,{size:{xs:12},children:e.jsxs(s,{children:[e.jsx(i,{variant:"subtitle2",sx:{fontWeight:600,color:"#555",mb:1},children:"Acceptance Values"}),e.jsxs(n,{container:!0,spacing:2,children:[e.jsx(n,{size:{xs:6},children:e.jsxs(t,{sx:{p:2,backgroundColor:"#e3f2fd",border:"1px solid #2196f3"},children:[e.jsx(i,{variant:"caption",sx:{color:"#1565c0",fontWeight:600},children:"MINIMUM"}),e.jsx(i,{variant:"h6",sx:{color:"#1565c0",fontWeight:600},children:r.minimumAcceptanceValue})]})}),e.jsx(n,{size:{xs:6},children:e.jsxs(t,{sx:{p:2,backgroundColor:"#ffebee",border:"1px solid #f44336"},children:[e.jsx(i,{variant:"caption",sx:{color:"#c62828",fontWeight:600},children:"MAXIMUM"}),e.jsx(i,{variant:"h6",sx:{color:"#c62828",fontWeight:600},children:r.maximumAcceptanceValue})]})})]})]})}),r.uom&&e.jsx(n,{size:{xs:12,md:6},children:e.jsxs(s,{children:[e.jsx(i,{variant:"subtitle2",sx:{fontWeight:600,color:"#555",mb:1},children:"Unit of Measurement"}),e.jsxs(s,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(v,{sx:{mr:1,color:"#1976d2",fontSize:"1.2rem"}}),e.jsx(i,{variant:"body2",sx:{color:"#333",fontWeight:500},children:r.uom})]})]})}),e.jsx(n,{size:{xs:12,md:6},children:e.jsxs(s,{children:[e.jsx(i,{variant:"subtitle2",sx:{fontWeight:600,color:"#555",mb:1},children:"Multiple Measurements"}),e.jsxs(s,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(l,{label:r.multipleMeasurements?"Enabled":"Disabled",size:"small",color:r.multipleMeasurements?"success":"default",sx:{fontSize:"0.75rem",height:"24px"}}),r.multipleMeasurements&&r.multipleMeasurementMaxCount&&e.jsx(l,{label:`Max: ${r.multipleMeasurementMaxCount}`,size:"small",sx:{backgroundColor:"#ff9800",color:"white",fontSize:"0.75rem",height:"24px"}})]})]})}),e.jsx(n,{size:{xs:12},children:e.jsxs(s,{children:[e.jsx(i,{variant:"subtitle2",sx:{fontWeight:600,color:"#555",mb:1},children:"Additional Options"}),e.jsxs(s,{sx:{display:"flex",alignItems:"center",gap:1,flexWrap:"wrap"},children:[r.allowAttachments&&e.jsx(l,{icon:e.jsx(z,{sx:{fontSize:"0.875rem"}}),label:"Attachments Allowed",size:"small",sx:{backgroundColor:"#4caf50",color:"white",fontSize:"0.75rem",height:"24px"}}),r.responsiblePerson&&e.jsx(l,{icon:e.jsx(g,{sx:{fontSize:"0.875rem"}}),label:"Get Responsible Person",size:"small",sx:{backgroundColor:"#2196f3",color:"white",fontSize:"0.75rem",height:"24px"}})]})]})}),r.notes&&e.jsxs(n,{size:{xs:12},children:[e.jsx(x,{sx:{my:1}}),e.jsxs(s,{children:[e.jsx(i,{variant:"subtitle2",sx:{fontWeight:600,color:"#555",mb:1},children:"Step Notes"}),e.jsx(t,{sx:{p:2,backgroundColor:"#f8f9fa",border:"1px solid #e9ecef",borderRadius:"8px"},children:e.jsx(i,{variant:"body2",sx:{color:"#333",lineHeight:1.5},children:r.notes})})]})]})]})]})},o))(r,o))]}):e.jsxs(s,{sx:{textAlign:"center",py:4},children:[e.jsx(b,{sx:{fontSize:48,color:"#ccc",mb:2}}),e.jsx(i,{variant:"h6",sx:{color:"#666",mb:1},children:"No steps defined"}),e.jsx(i,{variant:"body2",sx:{color:"#999"},children:"This step group has no process steps configured"})]})})]},C)};return e.jsxs(s,{children:[e.jsxs(s,{sx:{display:"flex",alignItems:"center",mb:3},children:[e.jsx(c,{sx:{mr:1,color:"#1976d2"}}),e.jsx(i,{variant:"h6",sx:{fontWeight:600,color:"#333"},children:"Process Step Groups"})]}),e.jsx(t,{sx:{p:3,borderRadius:2,border:"1px solid #e0e0e0"},children:0===r.length?e.jsxs(s,{sx:{textAlign:"center",py:4},children:[e.jsx(c,{sx:{fontSize:48,color:"#ccc",mb:2}}),e.jsx(i,{variant:"h6",sx:{color:"#666",mb:1},children:"No step groups available"}),e.jsx(i,{variant:"body2",sx:{color:"#999"},children:"This process sequence has no step groups defined"})]}):e.jsxs(s,{children:[e.jsxs(i,{variant:"body2",sx:{color:"#666",mb:3},children:["This process sequence has ",r.length," step group",r.length>1?"s":""," with"," ",r.reduce((e,s)=>e+(s.steps?.length||0),0)," total steps."]}),r.map((e,s)=>C(e,s))]})})]})},A=()=>{const r=I(),{id:n}=T(),o=Number(n),{data:l,isLoading:a,isError:x,error:c}=M({id:o},{skip:!o}),d=()=>{r("/sequence-master")},h=()=>{r(`/sequence-master/edit-sequence/${o}`)};if(a)return e.jsx(s,{sx:{minHeight:"100vh"},children:e.jsxs(t,{sx:{p:4,borderRadius:2,boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[e.jsxs(s,{sx:{display:"flex",alignItems:"center",mb:4},children:[e.jsx(y,{variant:"rectangular",width:80,height:36,sx:{mr:2,borderRadius:1}}),e.jsx(y,{variant:"text",width:300,height:40})]}),e.jsx(s,{sx:{mb:4},children:e.jsx(y,{variant:"rectangular",width:"100%",height:400,sx:{borderRadius:1}})}),e.jsxs(s,{sx:{display:"flex",justifyContent:"space-between",pt:3,borderTop:"1px solid #e0e0e0"},children:[e.jsx(y,{variant:"rectangular",width:80,height:36,sx:{borderRadius:1}}),e.jsx(y,{variant:"rectangular",width:100,height:36,sx:{borderRadius:1}})]})]})});if(x||!l)return e.jsx(s,{sx:{minHeight:"100vh"},children:e.jsxs(t,{sx:{p:4,borderRadius:2,boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[e.jsx(S,{severity:"error",sx:{mb:3},children:c&&"data"in c&&c.data&&"object"==typeof c.data&&"message"in c.data?c.data.message:"Failed to load sequence details"}),e.jsx(C,{onClick:d,startIcon:e.jsx(W,{}),sx:{textTransform:"none"},children:"Back to Sequence Master"})]})});const j=l.detail;return e.jsx(s,{sx:{minHeight:"100vh"},children:e.jsxs(t,{sx:{p:4,borderRadius:2,boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[e.jsxs(s,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:4},children:[e.jsxs(s,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(C,{onClick:d,startIcon:e.jsx(W,{}),sx:{textTransform:"none",mr:2,color:"#666","&:hover":{backgroundColor:"rgba(0,0,0,0.04)"}},children:"Back"}),e.jsx(i,{variant:"h4",sx:{fontWeight:600,color:"#333"},children:"View Process Sequence"})]}),e.jsx(C,{variant:"contained",startIcon:e.jsx(k,{}),onClick:h,sx:{textTransform:"none",backgroundColor:"#1976d2","&:hover":{backgroundColor:"#1565c0"}},children:"Edit Sequence"})]}),e.jsx(s,{sx:{mb:4},children:e.jsx(q,{sequence:j})}),e.jsx(s,{sx:{mb:4},children:e.jsx(R,{stepGroups:j.stepGroups})}),e.jsxs(s,{sx:{display:"flex",justifyContent:"space-between",pt:3,borderTop:"1px solid #e0e0e0"},children:[e.jsx(C,{onClick:d,sx:{textTransform:"none"},children:"Back to List"}),e.jsx(C,{variant:"contained",startIcon:e.jsx(k,{}),onClick:h,sx:{textTransform:"none",backgroundColor:"#1976d2","&:hover":{backgroundColor:"#1565c0"}},children:"Edit Sequence"})]})]})})};export{A as default};
