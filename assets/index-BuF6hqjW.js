import{j as e,bg as s,z as r,J as t,r as n,bk as i,bl as a,a2 as o,Z as c,bh as l,w as d,al as x,I as h,bN as j,bC as m,bD as b,bj as g,E as p,bF as f,bO as u,U as y,ac as v,ai as I,am as w,ap as C,aj as k,aq as W,$ as z,X as S,by as E,m as R}from"./mui-vendor-ThRJoe5u.js";import{r as T}from"./schemas-32M61VcH.js";import{p as A}from"./index-CgzbgTp3.js";import{f as N,j as O}from"./react-vendor-jVbyDP5c.js";import"./form-vendor-DG-ZRlco.js";import"./auth-vendor-BOyMHjHL.js";import"./state-vendor-BxbV2bHq.js";import"./utils-vendor-S0KZLiBE.js";import"./ui-vendor-DL_b4SbO.js";const P=({item:i,onRemoveImage:a,view:o})=>e.jsx(s,{children:e.jsxs(r,{variant:"outlined",sx:{width:120,height:120,display:"flex",alignItems:"center",justifyContent:"center",position:"relative",overflow:"hidden",m:1},children:[e.jsx("img",{src:i.image,alt:`IMAGE-${i.id}`,width:120,height:120,style:{objectFit:"cover"}}),!o&&e.jsx(t,{onClick:()=>a(i.id),sx:{position:"absolute",top:2,right:2,backgroundColor:"rgba(255,255,255,0.7)",zIndex:999999,"&:hover":{backgroundColor:"rgba(255,0,0,0.7)",color:"white"}},size:"small",children:e.jsx(n,{fontSize:"small"})})]})}),L=({gallery:t,onAddImage:n,onRemoveImage:i,view:a})=>e.jsxs(s,{container:!0,spacing:1,columns:3,children:[t.map(s=>e.jsx(P,{item:s,onRemoveImage:i,view:a},s.id)),!a&&e.jsx(s,{children:e.jsxs(r,{variant:"outlined",sx:{width:120,height:120,display:"flex",alignItems:"center",justifyContent:"center",position:"relative",overflow:"hidden",m:1},children:[e.jsx("input",{accept:"image/*",type:"file",disabled:a,onChange:e=>{const s=e.target.files?.[0];s&&n(s)},style:{opacity:50,position:"absolute",width:"100%",top:50,left:20,color:"transparent",height:"100%",cursor:"pointer"}}),e.jsx("img",{src:"/no-image.jpg",alt:"no-image",width:120,height:120,style:{objectFit:"cover"}})]})})]}),V=({inspection:r})=>{return e.jsx(i,{children:e.jsxs(a,{children:[e.jsx(o,{variant:"h6",sx:{mb:3,fontWeight:600,color:"#333"},children:"Basic Information"}),e.jsxs(s,{container:!0,spacing:3,children:[e.jsxs(s,{size:{xs:12,md:6},children:[e.jsx(o,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Inspection Name"}),e.jsx(o,{variant:"body1",sx:{fontWeight:500,mb:2},children:r.inspectionName})]}),e.jsxs(s,{size:{xs:12,md:6},children:[e.jsx(o,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Inspection ID"}),e.jsx(o,{variant:"body1",sx:{fontWeight:500,mb:2},children:r.inspectionId})]}),e.jsxs(s,{size:{xs:12,md:6},children:[e.jsx(o,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Type"}),e.jsx(o,{variant:"body1",sx:{fontWeight:500,mb:2},children:r.type})]}),e.jsxs(s,{size:{xs:12,md:6},children:[e.jsx(o,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Status"}),e.jsx(c,{icon:(t=r.status,"ACTIVE"===t?e.jsx(l,{}):e.jsx(d,{})),label:r.status,sx:{backgroundColor:(e=>{switch(e){case"ACTIVE":return"#4caf50";case"NEW":return"#2196f3";case"INACTIVE":return"#9e9e9e";default:return"#666"}})(r.status),color:"white",fontWeight:500,mb:2}})]}),e.jsxs(s,{size:{xs:12,md:6},children:[e.jsx(o,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Version"}),e.jsxs(o,{variant:"body1",sx:{fontWeight:500,mb:2},children:["v",r.version]})]}),e.jsxs(s,{size:{xs:12,md:6},children:[e.jsx(o,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Latest Version"}),e.jsx(c,{icon:r.isLatest?e.jsx(l,{}):e.jsx(d,{}),label:r.isLatest?"YES":"NO",sx:{backgroundColor:r.isLatest?"#4caf50":"#f44336",color:"white",fontWeight:500,mb:2}})]}),e.jsxs(s,{size:{xs:12,md:6},children:[e.jsx(o,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Show Part Images"}),e.jsx(c,{icon:r.showPartImages?e.jsx(l,{}):e.jsx(d,{}),label:r.showPartImages?"YES":"NO",sx:{backgroundColor:r.showPartImages?"#4caf50":"#f44336",color:"white",fontWeight:500,mb:2}})]}),r.createdAt&&e.jsxs(s,{size:{xs:12,md:6},children:[e.jsx(o,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Created At"}),e.jsx(o,{variant:"body1",sx:{fontWeight:500,mb:2},children:new Date(r.createdAt).toLocaleString()})]}),r.updatedAt&&e.jsxs(s,{size:{xs:12,md:6},children:[e.jsx(o,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Updated At"}),e.jsx(o,{variant:"body1",sx:{fontWeight:500,mb:2},children:new Date(r.updatedAt).toLocaleString()})]})]}),r.showPartImages&&r.partImages&&r.partImages.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(x,{sx:{my:3}}),e.jsxs(h,{children:[e.jsxs(h,{sx:{display:"flex",alignItems:"center",mb:2},children:[e.jsx(j,{sx:{mr:1,color:"text.secondary"}}),e.jsxs(o,{variant:"h6",sx:{fontWeight:600,color:"#333"},children:["Part Images (",r.partImages.length,")"]})]}),e.jsx(L,{gallery:r.partImages,onAddImage:()=>{},onRemoveImage:()=>{},view:!0})]})]})]})});var t},F=({parameters:t})=>{const n=e=>{const s=T.find(s=>s.value===e);return s?s.label:e},l=e=>{switch(e){case"number":return"#2196f3";case"text":return"#4caf50";case"boolean":return"#ff9800";case"files":return"#9c27b0";case"table":return"#607d8b";case"ok/not ok":return"#f44336";case"datetime":return"#795548";default:return"#666"}},d=e=>{switch(e){case"QUALITY_ENGINEER":return"#9c27b0";case"SUPERVISOR":return"#f44336";case"QUALITY_INSPECTOR":return"#ff9800";case"OPERATOR":return"#4caf50";case"MANAGER":return"#2196f3";default:return"#666"}};return e.jsx(i,{children:e.jsxs(a,{children:[e.jsxs(o,{variant:"h6",sx:{mb:3,fontWeight:600,color:"#333"},children:["Inspection Parameters (",t.length,")"]}),t.length>0?e.jsx(h,{children:t.map((t,i)=>e.jsxs(m,{sx:{mb:2,border:"1px solid #e0e0e0"},children:[e.jsx(b,{expandIcon:e.jsx(p,{}),children:e.jsxs(h,{sx:{display:"flex",alignItems:"center",width:"100%",flexWrap:"wrap",gap:1},children:[e.jsx(o,{variant:"subtitle1",sx:{fontWeight:600,mr:2},children:t.parameterName}),e.jsx(c,{label:t.type,size:"small",sx:{backgroundColor:l(t.type),color:"white",fontWeight:500}}),t.ctq&&e.jsx(c,{icon:e.jsx(g,{}),label:"CTQ",size:"small",color:"warning",variant:"outlined"}),e.jsx(c,{label:n(t.role),size:"small",sx:{backgroundColor:d(t.role),color:"white",fontWeight:500}})]})}),e.jsx(f,{children:e.jsxs(s,{container:!0,spacing:3,children:[e.jsxs(s,{size:{xs:12,md:6},children:[e.jsx(o,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Specification"}),e.jsx(o,{variant:"body1",sx:{fontWeight:500,mb:2},children:t.specification})]}),e.jsxs(s,{size:{xs:12,md:6},children:[e.jsx(o,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Tolerance"}),e.jsx(o,{variant:"body1",sx:{fontWeight:500,mb:2},children:t.tolerance||"Not specified"})]}),e.jsxs(s,{size:{xs:12,md:6},children:[e.jsx(o,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Order"}),e.jsx(o,{variant:"body1",sx:{fontWeight:500,mb:2},children:t.order})]}),e.jsxs(s,{size:{xs:12,md:6},children:[e.jsx(o,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Critical to Quality"}),e.jsx(c,{icon:t.ctq?e.jsx(g,{}):void 0,label:t.ctq?"YES":"NO",size:"small",sx:{backgroundColor:t.ctq?"#ff9800":"#9e9e9e",color:"white",fontWeight:500,mb:2}})]}),t.files&&Object.keys(t.files).length>0&&e.jsxs(s,{size:{xs:12},children:[e.jsx(x,{sx:{my:2}}),e.jsx(o,{variant:"body2",color:"text.secondary",sx:{mb:1},children:"Reference Files"}),e.jsx(h,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:Object.entries(t.files).map(([s,r])=>e.jsx(c,{icon:e.jsx(u,{}),label:`${s}: ${r}`,variant:"outlined",clickable:!0,onClick:()=>window.open(String(r),"_blank"),sx:{mb:1}},s))})]}),t.columns&&t.columns.length>0&&e.jsxs(s,{size:{xs:12},children:[e.jsx(x,{sx:{my:2}}),e.jsxs(o,{variant:"body2",color:"text.secondary",sx:{mb:2},children:["Columns (",t.columns.length,")"]}),e.jsx(y,{component:r,variant:"outlined",children:e.jsxs(v,{size:"small",children:[e.jsx(I,{children:e.jsxs(w,{children:[e.jsx(C,{sx:{fontWeight:600},children:"Name"}),e.jsx(C,{sx:{fontWeight:600},children:"Type"}),e.jsx(C,{sx:{fontWeight:600},children:"Default Value"}),e.jsx(C,{sx:{fontWeight:600},children:"Tolerance"})]})}),e.jsx(k,{children:t.columns.map((s,r)=>e.jsxs(w,{children:[e.jsx(C,{children:String(s.name)}),e.jsx(C,{children:e.jsx(c,{label:String(s.type),size:"small",sx:{backgroundColor:l(String(s.type)),color:"white",fontWeight:500}})}),e.jsx(C,{children:String(s.defaultValue||"-")}),e.jsx(C,{children:String(s.tolerance||"-")})]},r))})]})})]})]})})]},t.id||i))}):e.jsx(h,{sx:{textAlign:"center",py:4},children:e.jsx(o,{variant:"body1",color:"text.secondary",children:"No inspection parameters found"})})]})})},q=()=>{const s=N(),{id:t}=O(),n=Number(t),{data:i,isLoading:a,isError:c,error:l}=A({id:n},{skip:!n}),d=()=>{s("/inspection-master")},x=()=>{s(`/inspection-master/edit-inspection/${n}`)};if(a)return e.jsx(h,{sx:{minHeight:"100vh"},children:e.jsxs(r,{sx:{p:4,borderRadius:2,boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[e.jsxs(h,{sx:{display:"flex",alignItems:"center",mb:4},children:[e.jsx(W,{variant:"rectangular",width:80,height:36,sx:{mr:2,borderRadius:1}}),e.jsx(W,{variant:"text",width:300,height:40})]}),e.jsx(h,{sx:{mb:4},children:e.jsx(W,{variant:"rectangular",width:"100%",height:400,sx:{borderRadius:1}})}),e.jsxs(h,{sx:{display:"flex",justifyContent:"space-between",pt:3,borderTop:"1px solid #e0e0e0"},children:[e.jsx(W,{variant:"rectangular",width:80,height:36,sx:{borderRadius:1}}),e.jsx(W,{variant:"rectangular",width:100,height:36,sx:{borderRadius:1}})]})]})});if(c||!i)return e.jsx(h,{sx:{minHeight:"100vh"},children:e.jsxs(r,{sx:{p:4,borderRadius:2,boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[e.jsx(z,{severity:"error",sx:{mb:3},children:l&&"data"in l&&l.data&&"object"==typeof l.data&&"message"in l.data?l.data.message:"Failed to load inspection details"}),e.jsx(S,{onClick:d,startIcon:e.jsx(E,{}),sx:{textTransform:"none"},children:"Back to Inspection Master"})]})});const{inspection:j,inspectionParameters:m}=i.detail;return e.jsx(h,{sx:{minHeight:"100vh"},children:e.jsxs(r,{sx:{p:4,borderRadius:2,boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[e.jsxs(h,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:4},children:[e.jsxs(h,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(S,{onClick:d,startIcon:e.jsx(E,{}),sx:{textTransform:"none",mr:2,color:"#666","&:hover":{backgroundColor:"rgba(0,0,0,0.04)"}},children:"Back"}),e.jsx(o,{variant:"h4",sx:{fontWeight:600,color:"#333"},children:"View Inspection"})]}),e.jsx(S,{variant:"contained",startIcon:e.jsx(R,{}),onClick:x,sx:{textTransform:"none",backgroundColor:"#1976d2","&:hover":{backgroundColor:"#1565c0"}},children:"Edit Inspection"})]}),e.jsx(h,{sx:{mb:4},children:e.jsx(V,{inspection:j})}),e.jsx(h,{sx:{mb:4},children:e.jsx(F,{parameters:m})}),e.jsxs(h,{sx:{display:"flex",justifyContent:"space-between",pt:3,borderTop:"1px solid #e0e0e0"},children:[e.jsx(S,{onClick:d,sx:{textTransform:"none"},children:"Back to List"}),e.jsx(S,{variant:"contained",startIcon:e.jsx(R,{}),onClick:x,sx:{textTransform:"none",backgroundColor:"#1976d2","&:hover":{backgroundColor:"#1565c0"}},children:"Edit Inspection"})]})]})})};export{q as default};
