import{j as e,z as s,a2 as r,bg as t,I as i,Z as n,U as o,ac as a,ai as l,am as x,ap as d,aj as c,aq as h,X as j,by as m,m as p}from"./mui-vendor-ThRJoe5u.js";import{v as b}from"./index-De03Ly_y.js";import{f as g,j as u}from"./react-vendor-jVbyDP5c.js";import"./auth-vendor-BOyMHjHL.js";import"./state-vendor-BxbV2bHq.js";import"./utils-vendor-S0KZLiBE.js";import"./form-vendor-DG-ZRlco.js";import"./ui-vendor-DL_b4SbO.js";const f=({template:o})=>e.jsxs(s,{sx:{p:3,borderRadius:2,boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[e.jsx(r,{variant:"h6",sx:{mb:3,fontWeight:600,color:"#333"},children:"Basic Information"}),e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{size:{xs:12,md:6},children:e.jsxs(i,{sx:{mb:2},children:[e.jsx(r,{variant:"body2",sx:{color:"#666",fontWeight:500,mb:.5},children:"Template ID"}),e.jsx(r,{variant:"body1",sx:{fontWeight:600,color:"#333"},children:o.templateId})]})}),e.jsx(t,{size:{xs:12,md:6},children:e.jsxs(i,{sx:{mb:2},children:[e.jsx(r,{variant:"body2",sx:{color:"#666",fontWeight:500,mb:.5},children:"Template Name"}),e.jsx(r,{variant:"body1",sx:{fontWeight:600,color:"#333"},children:o.templateName})]})}),e.jsx(t,{size:{xs:12,md:6},children:e.jsxs(i,{sx:{mb:2},children:[e.jsx(r,{variant:"body2",sx:{color:"#666",fontWeight:500,mb:.5},children:"Version"}),e.jsx(r,{variant:"body1",sx:{fontWeight:600,color:"#333"},children:o.version})]})}),e.jsx(t,{size:{xs:12,md:6},children:e.jsxs(i,{sx:{mb:2},children:[e.jsx(r,{variant:"body2",sx:{color:"#666",fontWeight:500,mb:.5},children:"Status"}),e.jsx(n,{label:o.status,color:(e=>{switch(e){case"ACTIVE":return"success";case"NEW":return"info";case"INACTIVE":return"error";default:return"default"}})(o.status),size:"small",variant:"outlined"})]})}),e.jsx(t,{size:{xs:12,md:6},children:e.jsxs(i,{sx:{mb:2},children:[e.jsx(r,{variant:"body2",sx:{color:"#666",fontWeight:500,mb:.5},children:"Is Latest Version"}),e.jsx(n,{label:o.isLatest?"Yes":"No",color:o.isLatest?"success":"default",size:"small",variant:"outlined"})]})}),e.jsx(t,{size:{xs:12,md:6},children:e.jsxs(i,{sx:{mb:2},children:[e.jsx(r,{variant:"body2",sx:{color:"#666",fontWeight:500,mb:.5},children:"Is Active"}),e.jsx(n,{label:o.isActive?"Yes":"No",color:o.isActive?"success":"default",size:"small",variant:"outlined"})]})}),o.notes&&e.jsx(t,{size:{xs:12},children:e.jsxs(i,{sx:{mb:2},children:[e.jsx(r,{variant:"body2",sx:{color:"#666",fontWeight:500,mb:.5},children:"Notes"}),e.jsx(r,{variant:"body1",sx:{color:"#333",lineHeight:1.6},children:o.notes})]})}),e.jsx(t,{size:{xs:12,md:6},children:e.jsxs(i,{sx:{mb:2},children:[e.jsx(r,{variant:"body2",sx:{color:"#666",fontWeight:500,mb:.5},children:"Created At"}),e.jsx(r,{variant:"body1",sx:{color:"#333"},children:new Date(o.createdAt||"").toLocaleString()})]})}),e.jsx(t,{size:{xs:12,md:6},children:e.jsxs(i,{sx:{mb:2},children:[e.jsx(r,{variant:"body2",sx:{color:"#666",fontWeight:500,mb:.5},children:"Updated At"}),e.jsx(r,{variant:"body1",sx:{color:"#333"},children:new Date(o.updatedAt||"").toLocaleString()})]})})]})]}),v=({steps:t})=>{const h=e=>"sequence"===e?"#1976d2":"inspection"===e?"#4caf50":"#ff9800";return 0===t.length?e.jsxs(s,{sx:{p:3,borderRadius:2,boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[e.jsx(r,{variant:"h6",sx:{mb:2,fontWeight:600,color:"#333"},children:"Template Steps"}),e.jsx(r,{variant:"body1",color:"textSecondary",textAlign:"center",sx:{py:4},children:"No steps configured for this template"})]}):e.jsxs(s,{sx:{p:3,borderRadius:2,boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[e.jsxs(r,{variant:"h6",sx:{mb:3,fontWeight:600,color:"#333"},children:["Template Steps (",t.length,")"]}),e.jsx(o,{children:e.jsxs(a,{children:[e.jsx(l,{children:e.jsxs(x,{sx:{backgroundColor:"#f8f9fa"},children:[e.jsx(d,{sx:{fontWeight:600,color:"#333"},children:"Sequence"}),e.jsx(d,{sx:{fontWeight:600,color:"#333"},children:"Step ID"}),e.jsx(d,{sx:{fontWeight:600,color:"#333"},children:"Type"}),e.jsx(d,{sx:{fontWeight:600,color:"#333"},children:"Block Catalyst Mixing"}),e.jsx(d,{sx:{fontWeight:600,color:"#333"},children:"Request Supervisor Approval"}),e.jsx(d,{sx:{fontWeight:600,color:"#333"},children:"Version"})]})}),e.jsx(c,{children:[...t].sort((e,s)=>e.sequence-s.sequence).map((s,r)=>e.jsxs(x,{sx:{"&:hover":{backgroundColor:"#f5f5f5"}},children:[e.jsx(d,{children:e.jsx(i,{sx:{width:32,height:32,borderRadius:"50%",backgroundColor:h(s.type),color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold",fontSize:"0.9rem"},children:s.sequence})}),e.jsx(d,{sx:{fontWeight:500,color:"#333"},children:s.stepId||"N/A"}),e.jsx(d,{children:e.jsx(n,{label:s.type?s.type.toUpperCase():"UNKNOWN",size:"small",sx:{backgroundColor:h(s.type),color:"white",fontSize:"0.7rem",fontWeight:600}})}),e.jsx(d,{children:e.jsx(n,{label:s.blockCatalystMixing?"Yes":"No",color:s.blockCatalystMixing?"warning":"default",size:"small",variant:"outlined"})}),e.jsx(d,{children:e.jsx(n,{label:s.requestSupervisorApproval?"Yes":"No",color:s.requestSupervisorApproval?"info":"default",size:"small",variant:"outlined"})}),e.jsxs(d,{sx:{color:"#666"},children:["v",s.version]})]},s.id||r))})]})})]})},y=()=>{const t=g(),{id:n}=u(),{data:o,isLoading:a,error:l}=b({id:Number(n)},{skip:!n}),x=()=>{t("/prc-template-master")};if(a)return e.jsx(i,{sx:{minHeight:"100vh",p:3},children:e.jsxs(s,{sx:{p:4,borderRadius:2,boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[e.jsxs(i,{sx:{display:"flex",alignItems:"center",mb:4},children:[e.jsx(h,{variant:"rectangular",width:80,height:36,sx:{mr:2,borderRadius:1}}),e.jsx(h,{variant:"text",width:300,height:40})]}),e.jsxs(i,{sx:{mb:4},children:[e.jsx(h,{variant:"rectangular",width:"100%",height:200,sx:{borderRadius:1,mb:3}}),e.jsx(h,{variant:"rectangular",width:"100%",height:300,sx:{borderRadius:1}})]})]})});if(l)return e.jsx(i,{sx:{minHeight:"100vh",p:3},children:e.jsxs(s,{sx:{p:4,borderRadius:2,boxShadow:"0 2px 8px rgba(0,0,0,0.1)",textAlign:"center"},children:[e.jsx(r,{variant:"h6",color:"error",sx:{mb:2},children:"Error Loading Template"}),e.jsx(r,{variant:"body1",color:"textSecondary",sx:{mb:3},children:"Failed to load the PRC template. Please try again."}),e.jsx(j,{variant:"contained",onClick:x,children:"Back to Templates"})]})});if(!o)return e.jsx(i,{sx:{minHeight:"100vh",p:3},children:e.jsxs(s,{sx:{p:4,borderRadius:2,boxShadow:"0 2px 8px rgba(0,0,0,0.1)",textAlign:"center"},children:[e.jsx(r,{variant:"h6",sx:{mb:2},children:"Template Not Found"}),e.jsx(r,{variant:"body1",color:"textSecondary",sx:{mb:3},children:"The requested PRC template could not be found."}),e.jsx(j,{variant:"contained",onClick:x,children:"Back to Templates"})]})});const{prcTemplate:d,prcTemplateSteps:c}=o.detail;return e.jsx(i,{sx:{minHeight:"100vh",p:3},children:e.jsxs(s,{sx:{p:4,borderRadius:2,boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[e.jsxs(i,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:4},children:[e.jsxs(i,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(j,{startIcon:e.jsx(m,{}),onClick:x,sx:{mr:2,textTransform:"none"},children:"Back"}),e.jsx(r,{variant:"h4",sx:{fontWeight:600,color:"#333"},children:"View PRC Template"})]}),e.jsx(j,{variant:"contained",startIcon:e.jsx(p,{}),onClick:()=>{t(`/prc-template-master/edit-prc-template/${n}`)},sx:{textTransform:"none",backgroundColor:"#1976d2","&:hover":{backgroundColor:"#1565c0"}},children:"Edit Template"})]}),e.jsxs(i,{sx:{display:"flex",flexDirection:"column",gap:3},children:[e.jsx(f,{template:d}),e.jsx(v,{steps:c})]})]})})};export{y as default};
